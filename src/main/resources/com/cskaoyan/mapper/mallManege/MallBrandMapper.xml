<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cskaoyan.mapper.mallManege.MallBrandMapper">
   <resultMap id="brandMap" type="com.cskaoyan.bean.Brand">
       <result column="id" property="id"/>
       <result column="name" property="name"/>
       <result column="desc" property="desc"/>
       <result column="pic_url" property="picUrl"/>
       <result column="sort_order" property="sortOrder"/>
       <result column="floor_price" property="floorPrice"/>
       <result column="add_time" property="addTime"/>
       <result column="update_time" property="updateTime"/>

   </resultMap>
    <select id="showBrand" resultMap="brandMap">
        select
        id,
        name,
        cskaoyan_mall_brand.desc,
        pic_url,
        sort_order,
        floor_price,
        add_time,
        update_time
        from cskaoyan_mall_brand

    </select>

    <delete id="deleteBrand">
        delete from cskaoyan_mall_brand where id=#{brand.id}
    </delete>

    <select id="searchBrandByIdAndName" resultMap="brandMap">
        select
        id,
        name,
        cskaoyan_mall_brand.desc,
        pic_url,
        sort_order,
        floor_price,
        add_time,
        update_time
        from cskaoyan_mall_brand
        <where>
            <if test="id!=null">
            id LIKE CONCAT(CONCAT('%', #{id}), '%')
            </if>
            <if test="name">
            name LIKE CONCAT(CONCAT('%', #{name}), '%')
            </if>
        </where>

    </select>
</mapper>









